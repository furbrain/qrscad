block_details = 
[["Q",
  [[13, [1, 26, 13]],
   [22, [1, 44, 22]],
   [34, [2, 35, 17]],
   [48, [2, 50, 24]],
   [62, [2, 33, 15, 2, 34, 16]],
   [76, [4, 43, 19]],
   [88, [2, 32, 14, 4, 33, 15]],
   [110, [4, 40, 18, 2, 41, 19]],
   [132, [4, 36, 16, 4, 37, 17]],
   [154, [6, 43, 19, 2, 44, 20]],
   [180, [4, 50, 22, 4, 51, 23]],
   [206, [4, 46, 20, 6, 47, 21]],
   [244, [8, 44, 20, 4, 45, 21]],
   [261, [11, 36, 16, 5, 37, 17]],
   [295, [5, 54, 24, 7, 55, 25]],
   [325, [15, 43, 19, 2, 44, 20]],
   [367, [1, 50, 22, 15, 51, 23]],
   [397, [17, 50, 22, 1, 51, 23]],
   [445, [17, 47, 21, 4, 48, 22]],
   [485, [15, 54, 24, 5, 55, 25]],
   [512, [17, 50, 22, 6, 51, 23]],
   [568, [7, 54, 24, 16, 55, 25]],
   [614, [11, 54, 24, 14, 55, 25]],
   [664, [11, 54, 24, 16, 55, 25]],
   [718, [7, 54, 24, 22, 55, 25]],
   [754, [28, 50, 22, 6, 51, 23]],
   [808, [8, 53, 23, 26, 54, 24]],
   [871, [4, 54, 24, 31, 55, 25]],
   [911, [1, 53, 23, 37, 54, 24]],
   [985, [15, 54, 24, 25, 55, 25]],
   [1033, [42, 54, 24, 1, 55, 25]],
   [1115, [10, 54, 24, 35, 55, 25]],
   [1171, [29, 54, 24, 19, 55, 25]],
   [1231, [44, 54, 24, 7, 55, 25]],
   [1286, [39, 54, 24, 14, 55, 25]],
   [1354, [46, 54, 24, 10, 55, 25]],
   [1426, [49, 54, 24, 10, 55, 25]],
   [1502, [48, 54, 24, 14, 55, 25]],
   [1582, [43, 54, 24, 22, 55, 25]],
   [1666, [34, 54, 24, 34, 55, 25]]]],
 ["H",
  [[9, [1, 26, 9]],
   [16, [1, 44, 16]],
   [26, [2, 35, 13]],
   [36, [4, 25, 9]],
   [46, [2, 33, 11, 2, 34, 12]],
   [60, [4, 43, 15]],
   [66, [4, 39, 13, 1, 40, 14]],
   [86, [4, 40, 14, 2, 41, 15]],
   [100, [4, 36, 12, 4, 37, 13]],
   [122, [6, 43, 15, 2, 44, 16]],
   [140, [3, 36, 12, 8, 37, 13]],
   [158, [7, 42, 14, 4, 43, 15]],
   [180, [12, 33, 11, 4, 34, 12]],
   [197, [11, 36, 12, 5, 37, 13]],
   [223, [11, 36, 12, 7, 37, 13]],
   [253, [3, 45, 15, 13, 46, 16]],
   [283, [2, 42, 14, 17, 43, 15]],
   [313, [2, 42, 14, 19, 43, 15]],
   [341, [9, 39, 13, 16, 40, 14]],
   [385, [15, 43, 15, 10, 44, 16]],
   [406, [19, 46, 16, 6, 47, 17]],
   [442, [34, 37, 13]],
   [464, [16, 45, 15, 14, 46, 16]],
   [514, [30, 46, 16, 2, 47, 17]],
   [538, [22, 45, 15, 13, 46, 16]],
   [596, [33, 46, 16, 4, 47, 17]],
   [628, [12, 45, 15, 28, 46, 16]],
   [661, [11, 45, 15, 31, 46, 16]],
   [701, [19, 45, 15, 26, 46, 16]],
   [745, [23, 45, 15, 25, 46, 16]],
   [793, [23, 45, 15, 28, 46, 16]],
   [845, [19, 45, 15, 35, 46, 16]],
   [901, [11, 45, 15, 46, 46, 16]],
   [961, [59, 46, 16, 1, 47, 17]],
   [986, [22, 45, 15, 41, 46, 16]],
   [1054, [2, 45, 15, 64, 46, 16]],
   [1096, [24, 45, 15, 46, 46, 16]],
   [1142, [42, 45, 15, 32, 46, 16]],
   [1222, [10, 45, 15, 67, 46, 16]],
   [1276, [20, 45, 15, 61, 46, 16]]]],
 ["M",
  [[16, [1, 26, 16]],
   [28, [1, 44, 28]],
   [44, [1, 70, 44]],
   [64, [2, 50, 32]],
   [86, [2, 67, 43]],
   [108, [4, 43, 27]],
   [124, [4, 49, 31]],
   [154, [2, 60, 38, 2, 61, 39]],
   [182, [3, 58, 36, 2, 59, 37]],
   [216, [4, 69, 43, 1, 70, 44]],
   [254, [1, 80, 50, 4, 81, 51]],
   [290, [6, 58, 36, 2, 59, 37]],
   [334, [8, 59, 37, 1, 60, 38]],
   [365, [4, 64, 40, 5, 65, 41]],
   [415, [5, 65, 41, 5, 66, 42]],
   [453, [7, 73, 45, 3, 74, 46]],
   [507, [10, 74, 46, 1, 75, 47]],
   [563, [9, 69, 43, 4, 70, 44]],
   [627, [3, 70, 44, 11, 71, 45]],
   [669, [3, 67, 41, 13, 68, 42]],
   [714, [17, 68, 42]],
   [782, [17, 74, 46]],
   [860, [4, 75, 47, 14, 76, 48]],
   [914, [6, 73, 45, 14, 74, 46]],
   [1000, [8, 75, 47, 13, 76, 48]],
   [1062, [19, 74, 46, 4, 75, 47]],
   [1128, [22, 73, 45, 3, 74, 46]],
   [1193, [3, 73, 45, 23, 74, 46]],
   [1267, [21, 73, 45, 7, 74, 46]],
   [1373, [19, 75, 47, 10, 76, 48]],
   [1455, [2, 74, 46, 29, 75, 47]],
   [1541, [10, 74, 46, 23, 75, 47]],
   [1631, [14, 74, 46, 21, 75, 47]],
   [1725, [14, 74, 46, 23, 75, 47]],
   [1812, [12, 75, 47, 26, 76, 48]],
   [1914, [6, 75, 47, 34, 76, 48]],
   [1992, [29, 74, 46, 14, 75, 47]],
   [2102, [13, 74, 46, 32, 75, 47]],
   [2216, [40, 75, 47, 7, 76, 48]],
   [2334, [18, 75, 47, 31, 76, 48]]]],
 ["L",
  [[19, [1, 26, 19]],
   [34, [1, 44, 34]],
   [55, [1, 70, 55]],
   [80, [1, 100, 80]],
   [108, [1, 134, 108]],
   [136, [2, 86, 68]],
   [156, [2, 98, 78]],
   [194, [2, 121, 97]],
   [232, [2, 146, 116]],
   [274, [2, 86, 68, 2, 87, 69]],
   [324, [4, 101, 81]],
   [370, [2, 116, 92, 2, 117, 93]],
   [428, [4, 133, 107]],
   [461, [3, 145, 115, 1, 146, 116]],
   [523, [5, 109, 87, 1, 110, 88]],
   [589, [5, 122, 98, 1, 123, 99]],
   [647, [1, 135, 107, 5, 136, 108]],
   [721, [5, 150, 120, 1, 151, 121]],
   [795, [3, 141, 113, 4, 142, 114]],
   [861, [3, 135, 107, 5, 136, 108]],
   [932, [4, 144, 116, 4, 145, 117]],
   [1006, [2, 139, 111, 7, 140, 112]],
   [1094, [4, 151, 121, 5, 152, 122]],
   [1174, [6, 147, 117, 4, 148, 118]],
   [1276, [8, 132, 106, 4, 133, 107]],
   [1370, [10, 142, 114, 2, 143, 115]],
   [1468, [8, 152, 122, 4, 153, 123]],
   [1531, [3, 147, 117, 10, 148, 118]],
   [1631, [7, 146, 116, 7, 147, 117]],
   [1735, [5, 145, 115, 10, 146, 116]],
   [1843, [13, 145, 115, 3, 146, 116]],
   [1955, [17, 145, 115]],
   [2071, [17, 145, 115, 1, 146, 116]],
   [2191, [13, 145, 115, 6, 146, 116]],
   [2306, [12, 151, 121, 7, 152, 122]],
   [2434, [6, 151, 121, 14, 152, 122]],
   [2566, [17, 152, 122, 4, 153, 123]],
   [2702, [4, 152, 122, 18, 153, 123]],
   [2812, [20, 147, 117, 4, 148, 118]],
   [2956, [19, 148, 118, 6, 149, 119]]]]];
   
alignment_locs = [
    [],
    [6, 18],
    [6, 22],
    [6, 26],
    [6, 30],
    [6, 34],
    [6, 22, 38],
    [6, 24, 42],
    [6, 26, 46],
    [6, 28, 50],
    [6, 30, 54],
    [6, 32, 58],
    [6, 34, 62],
    [6, 26, 46, 66],
    [6, 26, 48, 70],
    [6, 26, 50, 74],
    [6, 30, 54, 78],
    [6, 30, 56, 82],
    [6, 30, 58, 86],
    [6, 34, 62, 90],
    [6, 28, 50, 72, 94],
    [6, 26, 50, 74, 98],
    [6, 30, 54, 78, 102],
    [6, 28, 54, 80, 106],
    [6, 32, 58, 84, 110],
    [6, 30, 58, 86, 114],
    [6, 34, 62, 90, 118],
    [6, 26, 50, 74, 98, 122],
    [6, 30, 54, 78, 102, 126],
    [6, 26, 52, 78, 104, 130],
    [6, 30, 56, 82, 108, 134],
    [6, 34, 60, 86, 112, 138],
    [6, 30, 58, 86, 114, 142],
    [6, 34, 62, 90, 118, 146],
    [6, 30, 54, 78, 102, 126, 150],
    [6, 24, 50, 76, 102, 128, 154],
    [6, 28, 54, 80, 106, 132, 158],
    [6, 32, 58, 84, 110, 136, 162],
    [6, 26, 54, 82, 110, 138, 166],
    [6, 30, 58, 86, 114, 142, 170]
];
   
//calculating these seem to be very slow for some reason   
base_polynomials = [
[1],
[1, 1],
[1, 3, 2],
[1, 7, 14, 8],
[1, 15, 54, 120, 64],
[1, 31, 198, 63, 147, 116],
[1, 63, 1, 218, 32, 227, 38],
[1, 127, 122, 154, 164, 11, 68, 117],
[1, 255, 11, 81, 54, 239, 173, 200, 24],
[1, 226, 207, 158, 245, 235, 164, 232, 197, 37],
[1, 216, 194, 159, 111, 199, 94, 95, 113, 157, 193],
[1, 172, 130, 163, 50, 123, 219, 162, 248, 144, 116, 160],
[1, 68, 119, 67, 118, 220, 31, 7, 84, 92, 127, 213, 97],
[1, 137, 73, 227, 17, 177, 17, 52, 13, 46, 43, 83, 132, 120],
[1, 14, 54, 114, 70, 174, 151, 43, 158, 195, 127, 166, 210, 234, 163],
[1, 29, 196, 111, 163, 112, 74, 10, 105, 105, 139, 132, 151, 32, 134, 26],
[1, 59, 13, 104, 189, 68, 209, 30, 8, 163, 65, 41, 229, 98, 50, 36, 59],
[1, 119, 66, 83, 120, 119, 22, 197, 83, 249, 41, 143, 134, 85, 53, 125, 99, 79],
[1, 239, 251, 183, 113, 149, 175, 199, 215, 240, 220, 73, 82, 173, 75, 32, 67, 217, 146],
[1, 194, 8, 26, 146, 20, 223, 187, 152, 85, 115, 238, 133, 146, 109, 173, 138, 33, 172, 179],
[1, 152, 185, 240, 5, 111, 99, 6, 220, 112, 150, 69, 36, 187, 22, 228, 198, 121, 121, 165, 174],
[1, 44, 243, 13, 131, 49, 132, 194, 67, 214, 28, 89, 124, 82, 158, 244, 37, 236, 142, 82, 255, 89],
[1, 89, 179, 131, 176, 182, 244, 19, 189, 69, 40, 28, 137, 29, 123, 67, 253, 86, 218, 230, 26, 145, 245],
[1, 179, 68, 154, 163, 140, 136, 190, 152, 25, 85, 19, 3, 196, 27, 113, 198, 18, 130, 2, 120, 93, 41, 71],
[1, 122, 118, 169, 70, 178, 237, 216, 102, 115, 150, 229, 73, 130, 72, 61, 43, 206, 1, 237, 247, 127, 217, 144, 117],
[1, 245, 49, 228, 53, 215, 6, 205, 210, 38, 82, 56, 80, 97, 139, 81, 134, 126, 168, 98, 226, 125, 23, 171, 173, 193],
[1, 246, 51, 183, 4, 136, 98, 199, 152, 77, 56, 206, 24, 145, 40, 209, 117, 233, 42, 135, 68, 70, 144, 146, 77, 43, 94],
[1, 240, 61, 29, 145, 144, 117, 150, 48, 58, 139, 94, 134, 193, 105, 33, 169, 202, 102, 123, 113, 195, 25, 213, 6, 152, 164, 217],
[1, 252, 9, 28, 13, 18, 251, 208, 150, 103, 174, 100, 41, 167, 12, 247, 56, 117, 119, 233, 127, 181, 100, 121, 147, 176, 74, 58, 197],
[1, 228, 193, 196, 48, 170, 86, 80, 217, 54, 143, 79, 32, 88, 255, 87, 24, 15, 251, 85, 82, 201, 58, 112, 191, 153, 108, 132, 143, 170],
[1, 212, 246, 77, 73, 195, 192, 75, 98, 5, 70, 103, 177, 22, 217, 138, 51, 181, 246, 72, 25, 18, 46, 228, 74, 216, 195, 11, 106, 130, 150]];

format_codes = [
[["L",0], [1,1,1,0,1,1,1,1,1,0,0,0,1,0,0]],
[["L",1], [1,1,1,0,0,1,0,1,1,1,1,0,0,1,1]],
[["L",2], [1,1,1,1,1,0,1,1,0,1,0,1,0,1,0]],
[["L",3], [1,1,1,1,0,0,0,1,0,0,1,1,1,0,1]],
[["L",4], [1,1,0,0,1,1,0,0,0,1,0,1,1,1,1]],
[["L",5], [1,1,0,0,0,1,1,0,0,0,1,1,0,0,0]],
[["L",6], [1,1,0,1,1,0,0,0,1,0,0,0,0,0,1]],
[["L",7], [1,1,0,1,0,0,1,0,1,1,1,0,1,1,0]],
[["M",0], [1,0,1,0,1,0,0,0,0,0,1,0,0,1,0]],
[["M",1], [1,0,1,0,0,0,1,0,0,1,0,0,1,0,1]],
[["M",2], [1,0,1,1,1,1,0,0,1,1,1,1,1,0,0]],
[["M",3], [1,0,1,1,0,1,1,0,1,0,0,1,0,1,1]],
[["M",4], [1,0,0,0,1,0,1,1,1,1,1,1,0,0,1]],
[["M",5], [1,0,0,0,0,0,0,1,1,0,0,1,1,1,0]],
[["M",6], [1,0,0,1,1,1,1,1,0,0,1,0,1,1,1]],
[["M",7], [1,0,0,1,0,1,0,1,0,1,0,0,0,0,0]],
[["Q",0], [0,1,1,0,1,0,1,0,1,0,1,1,1,1,1]],
[["Q",1], [0,1,1,0,0,0,0,0,1,1,0,1,0,0,0]],
[["Q",2], [0,1,1,1,1,1,1,0,0,1,1,0,0,0,1]],
[["Q",3], [0,1,1,1,0,1,0,0,0,0,0,0,1,1,0]],
[["Q",4], [0,1,0,0,1,0,0,1,0,1,1,0,1,0,0]],
[["Q",5], [0,1,0,0,0,0,1,1,0,0,0,0,0,1,1]],
[["Q",6], [0,1,0,1,1,1,0,1,1,0,1,1,0,1,0]],
[["Q",7], [0,1,0,1,0,1,1,1,1,1,0,1,1,0,1]],
[["H",0], [0,0,1,0,1,1,0,1,0,0,0,1,0,0,1]],
[["H",1], [0,0,1,0,0,1,1,1,0,1,1,1,1,1,0]],
[["H",2], [0,0,1,1,1,0,0,1,1,1,0,0,1,1,1]],
[["H",3], [0,0,1,1,0,0,1,1,1,0,1,0,0,0,0]],
[["H",4], [0,0,0,0,1,1,1,0,1,1,0,0,0,1,0]],
[["H",5], [0,0,0,0,0,1,0,0,1,0,1,0,1,0,1]],
[["H",6], [0,0,0,1,1,0,1,0,0,0,0,1,1,0,0]],
[["H",7], [0,0,0,1,0,0,0,0,0,1,1,1,0,1,1]]
];


/* note starts with V7 only */
version_codes = [
[0,0,0,1,1,1,1,1,0,0,1,0,0,1,0,1,0,0],
[0,0,1,0,0,0,0,1,0,1,1,0,1,1,1,1,0,0],
[0,0,1,0,0,1,1,0,1,0,1,0,0,1,1,0,0,1],
[0,0,1,0,1,0,0,1,0,0,1,1,0,1,0,0,1,1],
[0,0,1,0,1,1,1,0,1,1,1,1,1,1,0,1,1,0],
[0,0,1,1,0,0,0,1,1,1,0,1,1,0,0,0,1,0],
[0,0,1,1,0,1,1,0,0,0,0,1,0,0,0,1,1,1],
[0,0,1,1,1,0,0,1,1,0,0,0,0,0,1,1,0,1],
[0,0,1,1,1,1,1,0,0,1,0,0,1,0,1,0,0,0],
[0,1,0,0,0,0,1,0,1,1,0,1,1,1,1,0,0,0],
[0,1,0,0,0,1,0,1,0,0,0,1,0,1,1,1,0,1],
[0,1,0,0,1,0,1,0,1,0,0,0,0,1,0,1,1,1],
[0,1,0,0,1,1,0,1,0,1,0,0,1,1,0,0,1,0],
[0,1,0,1,0,0,1,0,0,1,1,0,1,0,0,1,1,0],
[0,1,0,1,0,1,0,1,1,0,1,0,0,0,0,0,1,1],
[0,1,0,1,1,0,1,0,0,0,1,1,0,0,1,0,0,1],
[0,1,0,1,1,1,0,1,1,1,1,1,1,0,1,1,0,0],
[0,1,1,0,0,0,1,1,1,0,1,1,0,0,0,1,0,0],
[0,1,1,0,0,1,0,0,0,1,1,1,1,0,0,0,0,1],
[0,1,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,1],
[0,1,1,0,1,1,0,0,0,0,1,0,0,0,1,1,1,0],
[0,1,1,1,0,0,1,1,0,0,0,0,0,1,1,0,1,0],
[0,1,1,1,0,1,0,0,1,1,0,0,1,1,1,1,1,1],
[0,1,1,1,1,0,1,1,0,1,0,1,1,1,0,1,0,1],
[0,1,1,1,1,1,0,0,1,0,0,1,0,1,0,0,0,0],
[1,0,0,0,0,0,1,0,0,1,1,1,0,1,0,1,0,1],
[1,0,0,0,0,1,0,1,1,0,1,1,1,1,0,0,0,0],
[1,0,0,0,1,0,1,0,0,0,1,0,1,1,1,0,1,0],
[1,0,0,0,1,1,0,1,1,1,1,0,0,1,1,1,1,1],
[1,0,0,1,0,0,1,0,1,1,0,0,0,0,1,0,1,1],
[1,0,0,1,0,1,0,1,0,0,0,0,1,0,1,1,1,0],
[1,0,0,1,1,0,1,0,1,0,0,1,1,0,0,1,0,0],
[1,0,0,1,1,1,0,1,0,1,0,1,0,0,0,0,0,1],
[1,0,1,0,0,0,1,1,0,0,0,1,1,0,1,0,0,1]
];
